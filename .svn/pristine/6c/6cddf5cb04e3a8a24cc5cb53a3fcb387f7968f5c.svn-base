<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
	<package name="example" extends="default,json-default" namespace="/user">
		
		<action name="user_queryByKey" class="userTestAction" method="user_queryByKey">
			<result name="SUCCESS">
				<param name="location">/example/user_example.jsp?tip={tip}</param>
			</result>
		</action>
		<action name="user_list" class="userTestAction" method="user_list">
			<result name="LIST" type="json">
			</result>
		</action>
		<action name="user_*" class="userTestAction" method="user_{1}">
			<!--  -->
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="token" />
			<result name="invalid.token">/example/user_example.jsp</result>
			<result name="SUCCESS" type="redirectAction">
				user_queryByKey?id=${id}
			</result>	
		</action> 
		
		<action name="user_login" class="userTestAction" method="user_login">
			<result name="FAIL" >login.jsp</result>
			<result name="SUCCESS" >index.jsp</result>
		</action> 
		<action name="upload" class="example.action.UploadAction">  
            		<!-- 配置fileUpload拦截器 -->  
            		<interceptor-ref name="fileUpload">  
                		<!-- 配置允许上传的文件类型-->  
                		<param name="allowedTypes">image/x-ms-bmp,image/jpeg,image/gif,image/png,image/x-png</param>   
                		<!-- 配置允许上传的文件大小 -->  
                		<param name="maximumSize">2048000</param>  
            		</interceptor-ref>  
            		<interceptor-ref name="defaultStack"></interceptor-ref>  
            		<!-- 配置上传文件的保存的相对路径 -->  
            		<param name="savePath">/test</param>  
            		<!-- 配置逻辑视图和实际资源的对应关系 -->  
            		<result>/example/upload.jsp</result>  
            		<result name="input">/example/upload-input.jsp</result>  
        	</action>  
        
	</package> 
	
	
</struts>