package example.action;

import java.util.List;

import org.apache.log4j.Logger;
import org.apache.struts2.json.annotations.JSON;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Controller;

import seentao.xhsn.common.SupperBO;
import seentao.xhsn.tools.Page;
import example.bean.HsUserBO;
import example.service.IUserTestService;

@Controller
@Scope("prototype")
public class UserTestAction {

	private static Logger logger=Logger.getLogger(UserTestAction.class);
	
	@Autowired
	private IUserTestService userTestService;
	
	private HsUserBO bo;
	
	private String id;
	
	private String tip;
	
	private List<SupperBO> boList;
	
	private Page<SupperBO> page;

	public String user_insert() {
		bo.setSex("11");
		bo.setAge(11);
		id=this.userTestService.insert(bo);
		return "SUCCESS";
	}
	
	public String user_list(){
		if(page==null)
			page=new Page<SupperBO>();
		boList = this.userTestService.queryAll(page);
		System.out.println(page);
		return "LIST";
	}	
	
	public String user_queryByKey(){
		bo=this.userTestService.getBoById(id);
//		SeentaoApplicationContext.setSession("LOGIN_SESSION_BEAN", "test");
//		throw new RuntimeException("22222");
		tip="你好！welcome";
		return "SUCCESS";
	}
	
	@JSON(serialize=false)
	public HsUserBO getBo() {
		return bo;
	}

	public void setBo(HsUserBO bo) {
		this.bo = bo;
	}

	public String getId() {
		return id;
	}

	public void setId(String id) {
		this.id = id;
	}

	public String getTip() {
		return tip;
	}

	public void setTip(String tip) {
		this.tip = tip;
	}

	public List<SupperBO> getBoList() {
		return boList;
	}

	public void setBoList(List<SupperBO> boList) {
		this.boList = boList;
	}

	public Page<SupperBO> getPage() {
		return page;
	}

	public void setPage(Page<SupperBO> page) {
		this.page = page;
	}
	
	
}
