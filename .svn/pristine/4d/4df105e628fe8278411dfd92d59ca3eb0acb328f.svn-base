$(document).ready(function(){
	switchTab(3);
	$(" body").click(function(){
		$(".bm").hide();
	});
	$("#professional_value").click(function(e){
		if($("#proselectbox").css("display")=="none")
			$("#proselectbox").show();
		else
			$("#proselectbox").hide();
		e.stopPropagation();//阻止冒泡到body
	});
	$("#level_value").click(function(e){
		if($("#levelselectbox").css("display")=="none")
			$("#levelselectbox").show();
		else
			$("#levelselectbox").hide();
		e.stopPropagation();//阻止冒泡到body
	});
})

function pickPro(code,value) {
 $("#professional_value").val(value);
 $("#professional_code").val(code);
 $(".bm").hide();
 if(value=='其他'){
		$("#professional_name").css("display","block");
	}else{
		$("#professional_name").css("display","none");
	}
}

function picklevel(code,value) {
	 $("#level_value").val(value);
	 $("#level").val(code);
	 $(".bm").hide();
	}

function validate(){
	if($("#professional_code").val().length==0){
		$("#errorTip").text("请选择专业技能！");
		return false;
	}
	if ($("#professional_code").val() == '99'&&$("#professional_name").val().length == 0) {
		$("#errorTip").text("请输入其他专业技能！");
		return false;
	}
	if(isNaN($("#usetime").val())){
		$("#errorTip").text("请输入数字！");
		return false;
	}
	if($("#usetime").val().length==0){
		$("#errorTip").text("请输入使用时间！");
		return false;
	}
	if ($("#professional_code").val() != '99') {
		$("#professional_name").val("");
	}
	return true;
}

function handleUpdateResponse(data){
	$("#key").val(data.bo.id);
	 $("#professional_code").val(data.bo.professional_code);
	 $("#professional_value").val(data.bo.professional_value);
	 $("#usetime").val(data.bo.usetime);
	 $("#level").val(data.bo.level);
	 $("#level_value").val(data.bo.level_value);
	 if(data.bo.professional_value=='其他'){
			$("#professional_name").css("display","block");
		}else{
			$("#professional_name").css("display","none");
		}
	 $("#professional_name").val(data.bo.professional_name);
}