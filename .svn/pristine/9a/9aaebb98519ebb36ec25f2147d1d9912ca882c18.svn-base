<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="seentao.xhsn.bean.mappers.HsResumeBOMapper">
	<resultMap id="BaseResultMap" type="seentao.xhsn.bean.HsResumeBO">
		<id column="id" property="id" jdbcType="CHAR" />
		<result column="user_id" property="user_id" jdbcType="CHAR" />
		<result column="outgoing" property="outgoing" jdbcType="CHAR" />
		<result column="completeness" property="completeness" jdbcType="VARCHAR" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="static_path" property="static_path" jdbcType="VARCHAR" />
		<result column="language" property="language" jdbcType="VARCHAR" />
		<result column="create_time" property="create_time" jdbcType="VARCHAR" />
		<result column="creater" property="creater" jdbcType="VARCHAR" />
		<result column="modifier" property="modifier" jdbcType="VARCHAR" />
		<result column="modify_time" property="modify_time" jdbcType="VARCHAR" />
		<result column="baseinfo_path" property="baseinfo_path" jdbcType="VARCHAR" />
		<result column="certificate_path" property="certificate_path" jdbcType="VARCHAR" />
		<result column="desire_path" property="desire_path" jdbcType="VARCHAR" />
		<result column="education_path" property="education_path" jdbcType="VARCHAR" />
		<result column="evaluate_path" property="evaluate_path" jdbcType="VARCHAR" />
		<result column="practice_path" property="practice_path" jdbcType="VARCHAR" />
		<result column="project_path" property="project_path" jdbcType="VARCHAR" />
		<result column="skill_path" property="skill_path" jdbcType="VARCHAR" />
		<result column="train_path" property="train_path" jdbcType="VARCHAR" />
		<result column="baseinfo_word_path" property="baseinfo_word_path" jdbcType="VARCHAR" />
		<result column="certificate_word_path" property="certificate_word_path" jdbcType="VARCHAR" />
		<result column="desire_word_path" property="desire_word_path" jdbcType="VARCHAR" />
		<result column="education_word_path" property="education_word_path" jdbcType="VARCHAR" />
		<result column="evaluate_word_path" property="evaluate_word_path" jdbcType="VARCHAR" />
		<result column="practice_word_path" property="practice_word_path" jdbcType="VARCHAR" />
		<result column="project_word_path" property="project_word_path" jdbcType="VARCHAR" />
		<result column="skill_word_path" property="skill_word_path" jdbcType="VARCHAR" />
		<result column="train_word_path" property="train_word_path" jdbcType="VARCHAR" />
		<result column="photo_word_path" property="photo_word_path" jdbcType="VARCHAR" />
	</resultMap>
	<resultMap id="PersonResumeMap" type="seentao.xhsn.sys.person.bean.PersonResumeBean">
		<result column="res_id" property="res_id" jdbcType="CHAR" />
		<result column="login_name" property="login_name" jdbcType="VARCHAR" />
		<result column="user_name" property="user_name" jdbcType="VARCHAR" />
		<result column="gender" property="gender" jdbcType="CHAR" />
		<result column="user_email" property="user_email" jdbcType="VARCHAR" />
		<result column="modify_time" property="modify_time" jdbcType="VARCHAR" />
		<result column="id_card" property="id_card" jdbcType="VARCHAR" />
		<result column="regist_time" property="regist_time" jdbcType="VARCHAR" />
		<result column="cellphone" property="cellphone" jdbcType="VARCHAR" />
		<result column="isopen" property="isopen" jdbcType="CHAR" />
	</resultMap>
	<sql id="Base_Column_List">
		id,create_time, creater, modifier,
    	user_id, 
    	outgoing, 
    	completeness, 
    	name, 
    	static_path, 
    	language, 
    	baseinfo_path, 
    	certificate_path, 
    	desire_path, 
    	education_path, 
    	evaluate_path, 
    	practice_path, 
    	project_path, 
    	skill_path, 
    	train_path, 
    	baseinfo_word_path, 
    	certificate_word_path, 
    	desire_word_path, 
    	education_word_path, 
    	evaluate_word_path, 
    	practice_word_path, 
    	project_word_path, 
    	skill_word_path, 
    	train_word_path, 
    	photo_word_path,
    	modify_time
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from hs_resume
		where id = #{id,jdbcType=CHAR}
	</select>

	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		delete from hs_resume
		where id = #{id,jdbcType=CHAR}
	</delete>

	<insert id="insert" parameterType="seentao.xhsn.bean.HsResumeBO">

		insert into hs_resume
    
    <trim prefix="(" suffix=")" suffixOverrides=",">
    	<if test="id != null">
	        id,
	      </if>
	 	<if test="user_id != null">
	        user_id,
	      </if>
	 	<if test="outgoing != null">
	        outgoing,
	      </if>
	 	<if test="completeness != null">
	        completeness,
	      </if>
	 	<if test="name != null">
	        name,
	      </if>
	 	<if test="static_path != null">
	        static_path,
	      </if>
	 	<if test="language != null">
	        language,
	      </if>
	 	<if test="baseinfo_path != null">
	        baseinfo_path,
	      </if>
	 	<if test="certificate_path != null">
	        certificate_path,
	      </if>
	 	<if test="desire_path != null">
	        desire_path,
	      </if>
	 	<if test="education_path != null">
	        education_path,
	      </if>
	 	<if test="evaluate_path != null">
	        evaluate_path,
	      </if>
	 	<if test="practice_path != null">
	        practice_path,
	      </if>
	 	<if test="project_path != null">
	        project_path,
	      </if>
	 	<if test="skill_path != null">
	        skill_path,
	      </if>
	 	<if test="train_path != null">
	        train_path,
	      </if>
	      <if test="baseinfo_word_path != null">
	        baseinfo_word_path,
	      </if>
	 	<if test="certificate_word_path != null">
	        certificate_word_path,
	      </if>
	 	<if test="desire_word_path != null">
	        desire_word_path,
	      </if>
	 	<if test="education_word_path != null">
	        education_word_path,
	      </if>
	 	<if test="evaluate_word_path != null">
	        evaluate_word_path,
	      </if>
	 	<if test="practice_word_path != null">
	        practice_word_path,
	      </if>
	 	<if test="project_word_path != null">
	        project_word_path,
	      </if>
	 	<if test="skill_word_path != null">
	        skill_word_path,
	      </if>
	 	<if test="train_word_path != null">
	        train_word_path,
	      </if>
	      <if test="photo_word_path != null">
	        photo_word_path,
	      </if>
      <if test="creater != null">
        creater,
      </if>
      <if test="create_time != null">
        create_time,
      </if>
      <if test="modifier != null">
        modifier,
      </if>
      <if test="modify_time != null">
        modify_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
        <if test="id != null">
       	 #{id},
        </if>
    	<if test="user_id != null">
	        #{user_id,jdbcType=CHAR},
	      </if>
    	<if test="outgoing != null">
	        #{outgoing,jdbcType=CHAR},
	      </if>
    	<if test="completeness != null">
	        #{completeness,jdbcType=VARCHAR},
	      </if>
    	<if test="name != null">
	        #{name,jdbcType=VARCHAR},
	      </if>
    	<if test="static_path != null">
	        #{static_path,jdbcType=VARCHAR},
	      </if>
    	<if test="language != null">
	        #{language,jdbcType=VARCHAR},
	      </if>
    	<if test="baseinfo_path != null">
	        #{baseinfo_path,jdbcType=VARCHAR},
	      </if>
    	<if test="certificate_path != null">
	        #{certificate_path,jdbcType=VARCHAR},
	      </if>
    	<if test="desire_path != null">
	        #{desire_path,jdbcType=VARCHAR},
	      </if>
    	<if test="education_path != null">
	        #{education_path,jdbcType=VARCHAR},
	      </if>
    	<if test="evaluate_path != null">
	        #{evaluate_path,jdbcType=VARCHAR},
	      </if>
    	<if test="practice_path != null">
	        #{practice_path,jdbcType=VARCHAR},
	      </if>
    	<if test="project_path != null">
	        #{project_path,jdbcType=VARCHAR},
	      </if>
    	<if test="skill_path != null">
	        #{skill_path,jdbcType=VARCHAR},
	      </if>
    	<if test="train_path != null">
	        #{train_path,jdbcType=VARCHAR},
	      </if>
	      <if test="baseinfo_word_path != null">
	        #{baseinfo_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="certificate_word_path != null">
	        #{certificate_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="desire_word_path != null">
	        #{desire_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="education_word_path != null">
	        #{education_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="evaluate_word_path != null">
	        #{evaluate_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="practice_word_path != null">
	        #{practice_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="project_word_path != null">
	        #{project_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="skill_word_path != null">
	        #{skill_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="train_word_path != null">
	        #{train_word_path,jdbcType=VARCHAR},
	      </if>
	      <if test="photo_word_path != null">
	        #{photo_word_path,jdbcType=VARCHAR},
	      </if>
      <if test="creater != null">
        #{creater,jdbcType=VARCHAR},
      </if>
      <if test="create_time != null">
        #{create_time,jdbcType=VARCHAR},
      </if>
      <if test="modifier != null">
        #{modifier,jdbcType=VARCHAR},
      </if>
      <if test="modify_time != null">
        #{modify_time,jdbcType=VARCHAR},
      </if>
    </trim>		
	</insert>


	<update id="updateByPrimaryKey" parameterType="seentao.xhsn.bean.HsResumeBO">
		 update hs_resume
    <set >
    	<if test="user_id != null">
	        user_id = #{user_id,jdbcType=CHAR},
	      </if>
    	<if test="outgoing != null">
	        outgoing = #{outgoing,jdbcType=CHAR},
	      </if>
    	<if test="completeness != null">
	        completeness = #{completeness,jdbcType=VARCHAR},
	      </if>
    	<if test="name != null">
	        name = #{name,jdbcType=VARCHAR},
	      </if>
    	<if test="static_path != null">
	        static_path = #{static_path,jdbcType=VARCHAR},
	      </if>
    	<if test="language != null">
	        language = #{language,jdbcType=VARCHAR},
	      </if>
    	<if test="baseinfo_path != null">
	        baseinfo_path = #{baseinfo_path,jdbcType=VARCHAR},
	      </if>
    	<if test="certificate_path != null">
	        certificate_path = #{certificate_path,jdbcType=VARCHAR},
	      </if>
    	<if test="desire_path != null">
	        desire_path = #{desire_path,jdbcType=VARCHAR},
	      </if>
    	<if test="education_path != null">
	        education_path = #{education_path,jdbcType=VARCHAR},
	      </if>
    	<if test="evaluate_path != null">
	        evaluate_path = #{evaluate_path,jdbcType=VARCHAR},
	      </if>
    	<if test="practice_path != null">
	        practice_path = #{practice_path,jdbcType=VARCHAR},
	      </if>
    	<if test="project_path != null">
	        project_path = #{project_path,jdbcType=VARCHAR},
	      </if>
    	<if test="skill_path != null">
	        skill_path = #{skill_path,jdbcType=VARCHAR},
	      </if>
    	<if test="train_path != null">
	        train_path = #{train_path,jdbcType=VARCHAR},
	      </if>
	      <if test="baseinfo_word_path != null">
	        baseinfo_word_path = #{baseinfo_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="certificate_word_path != null">
	        certificate_word_path = #{certificate_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="desire_word_path != null">
	        desire_word_path = #{desire_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="education_word_path != null">
	        education_word_path = #{education_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="evaluate_word_path != null">
	        evaluate_word_path = #{evaluate_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="practice_word_path != null">
	        practice_word_path = #{practice_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="project_word_path != null">
	        project_word_path = #{project_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="skill_word_path != null">
	        skill_word_path = #{skill_word_path,jdbcType=VARCHAR},
	      </if>
    	<if test="train_word_path != null">
	        train_word_path = #{train_word_path,jdbcType=VARCHAR},
	      </if>
	      <if test="photo_word_path != null">
	        photo_word_path = #{photo_word_path,jdbcType=VARCHAR},
	      </if>
       <if test="modifier != null">
        modifier = #{modifier,jdbcType=VARCHAR},
      </if>
      <if test="modify_time != null">
        modify_time = #{modify_time,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=CHAR}
	</update>
	
	<select id="selectByParam" parameterType="seentao.xhsn.bean.HsResumeBO"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from hs_resume
		<where>
			<if test="user_id != null">
				user_id = #{user_id,jdbcType=VARCHAR}
			</if>
		</where>
	</select>
	<select id="selectResumeForAdminByPage" parameterType="seentao.xhsn.tools.Page"
		resultMap="PersonResumeMap">
			SELECT A.id AS res_id,B.user_email as login_name,C.user_name AS user_name,C.user_gender AS
			gender,C.user_email as user_email,A.modify_time
			AS modify_time,C.user_idnum as id_card,A.create_time as regist_time,C.user_phone as cellphone,
			A.isopen as isopen
			FROM hs_resume A
			Left join hs_user B on A.user_id = B.id
			LEFT JOIN hs_userbasicinfo C ON A.user_id=C.sys_user_id
			
			<where>
				1=1
				<if test="params.bo.fromDate!=null and params.bo.fromDate!=''">
					<![CDATA[ and replace(STR_TO_DATE(A.create_time,'%Y-%m-%d'),'-','') >= #{params.bo.fromDate,jdbcType=VARCHAR}]]> 
				</if>
				<if test="params.bo.toDate !=null and params.bo.toDate!=''">
					<![CDATA[ and replace(STR_TO_DATE(A.create_time,'%Y-%m-%d'),'-','') <= #{params.bo.toDate,jdbcType=VARCHAR}]]>
				</if>
				<if test="params.bo.loginUser !=null and params.bo.loginUser!=''">
					and A.user_email like concat('%',#{params.bo.loginUser,jdbcType=VARCHAR},'%')
				</if>
				<if test="params.bo.idCard !=null and params.bo.idCard!=''">
					and C.user_idnum like concat('%',#{params.bo.idCard,jdbcType=VARCHAR},'%')
				</if>
			</where>
	</select>
</mapper>